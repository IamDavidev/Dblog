---
import Moon from './icons/Moon.astro'
---

<button class="toggle-theme"> 
  <Moon />
</button>

<script defer>
  const $toggle = document.querySelector('.toggle-theme');
  const $html = document.querySelector('html');

  $toggle?.addEventListener('click', () => {

    const themeSaved = localStorage.getItem('theme');

    if (themeSaved === 'dark') {
      localStorage.setItem('theme', 'light');
      $html.classList.remove('dark');
    } else {
      localStorage.setItem('theme', 'dark');
      $html.classList.add('dark');
    }
  });
</script>
